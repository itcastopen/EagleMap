{"version":3,"file":"static/js/556.ffe93198.chunk.js","mappings":"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","sources":["utils/request.ts","api/api.ts","components/NoData.tsx","pages/server/index.tsx"],"sourcesContent":["import axios, { AxiosRequestConfig, AxiosError, AxiosResponse } from 'axios';\nimport { MessagePlugin } from 'tdesign-react';\nimport { getToken } from '../utils/cookie';\n\ninterface ResponseData<T> {\n  code: number;\n  data: T;\n  msg: string;\n}\n\n// 指定 axios 请求类型\n\n(axios.defaults.headers as any) = {\n  'Content-Type': 'application/json;charset=utf-8',\n};\n\n// 指定请求地址\naxios.defaults.baseURL = '' // : 'https://mock.boxuegu.com/mock/2894/';\n\n// 添加请求拦截器\naxios.interceptors.request.use(\n  (config: AxiosRequestConfig ) => {\n    const token = getToken();\n    // 获取用户token，用于校验\n    /* eslint-disable  no-param-reassign */\n    if (token) {\n      (config.headers as any).Authorization = token;\n    }\n    return config;\n  },\n  (error: AxiosError) => Promise.reject(error),\n);\n\n// 添加响应拦截器，拦截登录过期或者没有权限\n\naxios.interceptors.response.use(\n  (response: AxiosResponse<ResponseData<any>>) => {\n    if (!response.data) {\n      return Promise.resolve(response);\n    }\n\n    // 请求成功\n    if (response.status === 200) {\n      return response.data as any;\n    }\n\n    // 请求成功，状态不为成功时\n    MessagePlugin.error(response.data.msg);\n\n    return Promise.reject(new Error(response.data.msg));\n  },\n  (error: AxiosError) => {\n    MessagePlugin.error(error.message);\n\n    return Promise.reject(error);\n  },\n);\n\n// 统一发起请求的函数\nexport function request<T>(options: AxiosRequestConfig) {\n  return axios.request<T>(options);\n}\n","import { request } from '../utils/request';\n// import { UserState } from '../store/module/user';\n\nexport interface UserLoginDataRq  {\n  code: number,\n  msg: string,\n  data: {\n    token: string\n  }\n}\n\nexport interface UserLoginData {\n  userName: string;\n  password: string;\n}\n\n// 登录接口\nexport function apiUserLogin(data: UserLoginData) {\n  return request<UserLoginDataRq>({\n    method: 'POST',\n    url: '/sys/login',\n    data,\n    params:data,\n  });\n}\n\n// 系统配置\nexport function apiSysConfig() {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: '/sys/config',\n  });\n}\n\n// 轨迹服务管理\nexport function apiTraceServer(data: any) {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: '/sys/trace/server',\n    data,\n    params:data,\n  });\n}\n\n// 轨迹列表\nexport function apiTraceList(data: any) {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: '/sys/trace',\n    data,\n    params:data,\n  });\n}\n\n// 删除轨迹\nexport function apiDeleteTrace(data: string) {\n  return request<UserLoginDataRq>({\n    method: 'DELETE',\n    url: `/sys/trace/${data}`,\n    data,\n    params:data,\n  });\n}\n\n// 电子围栏列表\nexport function apiFenceList(data: any) {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: '/sys/fence',\n    data,\n    params:data,\n  });\n}\n\n// 电子围栏列表详情\nexport function apiFenceDetails(data: any) {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: `/sys/fence/${data.fenceId}`,\n    data,\n  });\n}\n// 删除电子围栏\nexport function apiDeleteFence(data:any) {\n  return request<UserLoginDataRq>({\n    method: 'DELETE',\n    url: `/sys/fence/${data.fenceId}`,\n    data,\n  });\n}\n// 终端列表\nexport function apiTerminal(data: any) {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: '/sys/terminal',\n    data,\n    params:data,\n  });\n}\n\n// 删除终端\nexport function apiDeleteTerminalld(data:any) {\n  return request<UserLoginDataRq>({\n    method: 'DELETE',\n    url: `/sys/terminal/${data.terminalId}`,\n    data,\n  });\n}","import imgUrl from './../assets/images/nodata.png'\nexport default function nodata(){\n    return (\n        <div className='noData'>\n            <img src={imgUrl} width=\"245\" height=\"201\" alt=\"\" />\n            <div>没有数据orz</div>\n        </div>\n    )\n}","import { useEffect, useState } from 'react'\nimport { Table, Radio } from \"tdesign-react\";\nimport { apiTraceServer } from \"../../api/api\"\nimport  NoData  from '../../components/NoData'\n\ntype serverData = {\n  name: string,\n  serverId:string,\n  serverName: string,\n}[]\n\nfunction Server (props: any) {\n  const [page, setPage] = useState(1)\n  const [pageSize, setPageSize] = useState(10)\n  const [data, setData] = useState([])\n  const [total, setTotal] = useState(30)\n  const [provider, setProvider] = useState(\"BAIDU\");\n  useEffect(() => {\n    getData()\n  }, [])\n  \n  function getData(item?:any){\n    apiTraceServer({page, pageSize, provider: item?.provider ?? provider }).then((res: any) => {\n      const { data } = res\n      if (res.code === 0) {\n        setData(data.items)\n        setTotal(data.total)\n      } else {\n        console.log('请求出错！')\n      }\n    })\n  }\n // 更改单选类型 - 不同服务商切换\n const changeHandle = (val: any) => {\n  setProvider(val);\n  getData({provider:val});\n};\n  return (\n    <div className='container' key=\"server\">\n      <div className=\"searchCont\">\n        <div style={{'height':'50px'}}></div>\n        <div className=\"tdesign-demo-block-row\" >\n          <Radio.Group value={provider} onChange={changeHandle}>\n            <Radio value=\"BAIDU\">百度地图</Radio>\n            <Radio value=\"AMAP\">高德地图</Radio>\n            {/* <Radio value=\"QQ\">腾讯地图</Radio> */}\n          </Radio.Group>\n        </div>\n      </div>\n      {data && data.length > 0? (<Table \n          data={data} \n          columns={[\n            {\n              align: 'left',\n              className: 'test',\n              ellipsis: true,\n              colKey: 'provider',\n              cell({ row }) {\n                switch (row?.provider) {\n                  case \"BAIDU\":\n                    return <>百度地图</>;\n                  case \"AMAP\":\n                    return <>高德地图</>;\n                  case \"QQ\":\n                    return <>腾讯地图</>;\n                  default:\n                    return null;\n                }\n              },\n              title: '服务商名称',\n            },\n            {\n              align: 'left',\n              className: 'test4',\n              ellipsis: true,\n              colKey: 'id',\n              title: '服务ID',\n            },\n            {\n              align: 'left',\n              className: 'test4',\n              ellipsis: true,\n              colKey: 'name',\n              title: '服务名称',\n            },\n            {\n              align: 'left',\n              className: 'test4',\n              ellipsis: true,\n              colKey: 'created',\n              title: '创建时间',\n            },\n            {\n              align: 'left',\n              className: 'test4',\n              ellipsis: true,\n              colKey: 'updated',\n              title: '更新时间',\n            },\n            // {\n            //   align: 'left',\n            //   className: 'test4',\n            //   ellipsis: true,\n            //   colKey: 'status',\n            //   title: '状态',\n            // },\n            // {\n            //   align: 'left',\n            //   className: 'test4',\n            //   ellipsis: true,\n            //   colKey: 'desc',\n            //   title: '描述',\n            // },\n            {\n              colKey: \"op\",\n              width: 80,\n              title: \"操作\",\n              fixed: \"right\",\n              cell(record: any) {\n                return (\n                  <>\n                    <a\n                      className=\"link\"\n                      onClick={() => {\n                        props.history.push(`/server/${record.row.id}`);\n                      }}\n                    >\n                      查看\n                    </a>\n                  </>\n                );\n              },\n            },\n          ]} \n          rowKey=\"index\" \n          verticalAlign=\"top\"\n          bordered\n          hover\n          pagination={{\n            defaultCurrent: 2,\n            defaultPageSize: 10,\n            total,\n            showJumper: true,\n            onChange(pageInfo) {\n              setPageSize(pageInfo.pageSize)\n              setPage(pageInfo.current)\n              getData()\n            },\n          }}\n        ></Table>) : (<NoData />)}\n    </div>\n  )\n}\n\nexport default Server;"],"names":["request","options","axios","apiUserLogin","data","method","url","params","apiSysConfig","apiTraceServer","apiTraceList","apiDeleteTrace","apiFenceList","apiDeleteFence","fenceId","apiTerminal","apiDeleteTerminalld","terminalId","config","token","getToken","headers","Authorization","error","Promise","reject","response","status","MessagePlugin","msg","Error","resolve","message","nodata","className","src","imgUrl","width","height","alt","props","useState","page","setPage","pageSize","setPageSize","setData","total","setTotal","provider","setProvider","getData","item","then","res","code","items","console","log","useEffect","style","value","onChange","val","length","columns","align","ellipsis","colKey","cell","row","title","fixed","record","onClick","history","push","id","rowKey","verticalAlign","bordered","hover","pagination","defaultCurrent","defaultPageSize","showJumper","pageInfo","current"],"sourceRoot":""}
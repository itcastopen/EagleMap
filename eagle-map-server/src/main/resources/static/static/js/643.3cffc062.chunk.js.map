{"version":3,"file":"static/js/643.3cffc062.chunk.js","mappings":"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","sources":["utils/request.ts","api/api.ts","pages/systemSet/index.tsx"],"sourcesContent":["import axios, { AxiosRequestConfig, AxiosError, AxiosResponse } from 'axios';\nimport { MessagePlugin } from 'tdesign-react';\nimport { getToken } from '../utils/cookie';\n\ninterface ResponseData<T> {\n  code: number;\n  data: T;\n  msg: string;\n}\n\n// 指定 axios 请求类型\n\n(axios.defaults.headers as any) = {\n  'Content-Type': 'application/json;charset=utf-8',\n};\n\n// 指定请求地址\naxios.defaults.baseURL = '' // : 'https://mock.boxuegu.com/mock/2894/';\n\n// 添加请求拦截器\naxios.interceptors.request.use(\n  (config: AxiosRequestConfig ) => {\n    const token = getToken();\n    // 获取用户token，用于校验\n    /* eslint-disable  no-param-reassign */\n    if (token) {\n      (config.headers as any).Authorization = token;\n    }\n    return config;\n  },\n  (error: AxiosError) => Promise.reject(error),\n);\n\n// 添加响应拦截器，拦截登录过期或者没有权限\n\naxios.interceptors.response.use(\n  (response: AxiosResponse<ResponseData<any>>) => {\n    if (!response.data) {\n      return Promise.resolve(response);\n    }\n\n    // 请求成功\n    if (response.status === 200) {\n      return response.data as any;\n    }\n\n    // 请求成功，状态不为成功时\n    MessagePlugin.error(response.data.msg);\n\n    return Promise.reject(new Error(response.data.msg));\n  },\n  (error: AxiosError) => {\n    MessagePlugin.error(error.message);\n\n    return Promise.reject(error);\n  },\n);\n\n// 统一发起请求的函数\nexport function request<T>(options: AxiosRequestConfig) {\n  return axios.request<T>(options);\n}\n","import { request } from '../utils/request';\n// import { UserState } from '../store/module/user';\n\nexport interface UserLoginDataRq  {\n  code: number,\n  msg: string,\n  data: {\n    token: string\n  }\n}\n\nexport interface UserLoginData {\n  userName: string;\n  password: string;\n}\n\n// 登录接口\nexport function apiUserLogin(data: UserLoginData) {\n  return request<UserLoginDataRq>({\n    method: 'POST',\n    url: '/sys/login',\n    data,\n    params:data,\n  });\n}\n\n// 系统配置\nexport function apiSysConfig() {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: '/sys/config',\n  });\n}\n\n// 轨迹服务管理\nexport function apiTraceServer(data: any) {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: '/sys/trace/server',\n    data,\n    params:data,\n  });\n}\n\n// 轨迹列表\nexport function apiTraceList(data: any) {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: '/sys/trace',\n    data,\n    params:data,\n  });\n}\n\n// 删除轨迹\nexport function apiDeleteTrace(data: string) {\n  return request<UserLoginDataRq>({\n    method: 'DELETE',\n    url: `/sys/trace/${data}`,\n    data,\n    params:data,\n  });\n}\n\n// 电子围栏列表\nexport function apiFenceList(data: any) {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: '/sys/fence',\n    data,\n    params:data,\n  });\n}\n\n// 电子围栏列表详情\nexport function apiFenceDetails(data: any) {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: `/sys/fence/${data.fenceId}`,\n    data,\n  });\n}\n// 删除电子围栏\nexport function apiDeleteFence(data:any) {\n  return request<UserLoginDataRq>({\n    method: 'DELETE',\n    url: `/sys/fence/${data.fenceId}`,\n    data,\n  });\n}\n// 终端列表\nexport function apiTerminal(data: any) {\n  return request<UserLoginDataRq>({\n    method: 'GET',\n    url: '/sys/terminal',\n    data,\n    params:data,\n  });\n}\n\n// 删除终端\nexport function apiDeleteTerminalld(data:any) {\n  return request<UserLoginDataRq>({\n    method: 'DELETE',\n    url: `/sys/terminal/${data.terminalId}`,\n    data,\n  });\n}","import { useEffect, useState } from \"react\";\nimport { Table } from \"tdesign-react\";\nimport { apiSysConfig } from \"../../api/api\"\n\nexport type systemlistType = {\n  id: string | number;\n  name: string;\n  ak: string;\n  sk: string;\n  type: string;\n}[];\n\nexport type itemListType = {\n  serverName: string;\n  servers: systemlistType;\n}[];\n\nfunction SystemSet(props: any) {\n  const [itemList, setItemList]  = useState([])\n\n  useEffect(()=> {\n    getInteData()\n  },[])\n\n  function getInteData(){\n    apiSysConfig().then((res:any) => {\n      const { data } = res\n      if (res.code === 0) {\n        setItemList(data)\n      } else {\n        console.log('请求出错！')\n      }\n    })\n  }\n\n  return (\n    <div className=\"systemSet container\" key=\"sts\">\n      {itemList.map((data: any, index: number) => {\n        return <MapList data={data} key={index}></MapList>;\n      })}\n    </div>\n  );\n}\n\nfunction MapList(props: any) {\n  const { data } = props;\n  return data ? (\n    <div className=\"mapList\">\n      <div className=\"title\"><span>{data.serverName}</span> {data.enable ? (<span className=\"off\"><em></em>开启</span>) : (<span className=\"on\"><em></em>关闭</span>)}</div>\n      <div className=\"cont\">\n        <Table \n          data={data.servers} \n          columns={[\n            {\n              align: 'left',\n              className: 'row',\n              ellipsis: true,\n              colKey: 'id',\n              title: '应用ID',\n            },\n            {\n              align: 'left',\n              className: 'test',\n              ellipsis: true,\n              colKey: 'name',\n              title: '应用名称',\n            },\n            {\n              align: 'left',\n              className: 'test4',\n              ellipsis: true,\n              colKey: 'ak',\n              title: 'AK',\n            },\n            {\n              align: 'left',\n              className: 'test4',\n              ellipsis: true,\n              colKey: 'sk',\n              title: 'SK',\n            },\n            {\n              align: 'left',\n              className: 'test4',\n              ellipsis: true,\n              colKey: 'type',\n              title: '类型',\n            },\n          ]} \n          rowKey=\"index\" \n          verticalAlign=\"top\"\n          bordered\n          hover\n        ></Table>\n      </div>\n    </div>\n  ) : null;\n}\n\nexport default SystemSet;\n"],"names":["request","options","axios","apiUserLogin","data","method","url","params","apiSysConfig","apiTraceServer","apiTraceList","apiDeleteTrace","apiFenceList","apiDeleteFence","fenceId","apiTerminal","apiDeleteTerminalld","terminalId","config","token","getToken","headers","Authorization","error","Promise","reject","response","status","MessagePlugin","msg","Error","resolve","message","MapList","props","className","serverName","enable","servers","columns","align","ellipsis","colKey","title","rowKey","verticalAlign","bordered","hover","useState","itemList","setItemList","useEffect","then","res","code","console","log","map","index"],"sourceRoot":""}
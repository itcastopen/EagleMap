"use strict";(self.webpackChunkjava_eaglemap=self.webpackChunkjava_eaglemap||[]).push([[75],{7993:function(e,t,n){n.d(t,{CQ:function(){return h},$I:function(){return g},bI:function(){return f},u9:function(){return p},n3:function(){return c},O2:function(){return v},iy:function(){return m},Bh:function(){return d},r4:function(){return u},xt:function(){return o}});var r=n(4569),i=n.n(r),a=n(9012),s=n(2268);function l(e){return i().request(e)}function o(e){return l({method:"POST",url:"/sys/login",data:e,params:e})}function c(){return l({method:"GET",url:"/sys/config"})}function u(e){return l({method:"GET",url:"/sys/trace/server",data:e,params:e})}function d(e){return l({method:"GET",url:"/sys/trace",data:e,params:e})}function m(e){return l({method:"GET",url:"/sys/trace/image",data:e,params:e})}function f(e){return l({method:"DELETE",url:"/sys/trace/".concat(e.id),data:e,params:e})}function p(e){return l({method:"GET",url:"/sys/fence",data:e,params:e})}function h(e){return l({method:"DELETE",url:"/sys/fence/".concat(e.fenceId),data:e,params:e})}function v(e){return l({method:"GET",url:"/sys/terminal",data:e,params:e})}function g(e){return l({method:"DELETE",url:"/sys/terminal/".concat(e.id),data:e,params:e})}i().defaults.headers={"Content-Type":"application/json;charset=utf-8"},i().defaults.baseURL="",i().interceptors.request.use((function(e){var t=(0,s.LP)();return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),i().interceptors.response.use((function(e){return e.data?200===e.status?e.data:(401!==e.status&&401!==e.data.code||((0,s.gy)(),window.location.href="/login"),a.sX.error(e.data.msg),Promise.reject(new Error(e.data.msg))):Promise.resolve(e)}),(function(e){if(a.sX.error(e.message),401!==e.response.status)return Promise.reject(e);(0,s.gy)(),window.location.href="/login"}))},6885:function(e,t,n){n.d(t,{v:function(){return u}});var r=n(5671),i=n(3144),a=n(136),s=n(5716),l=n(2791),o=n(8810),c=n(184),u=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){new o.Z(this.props.options)}},{key:"render",value:function(){return(0,c.jsx)("div",{id:"baidumap",style:{width:"100%",height:"560px"}})}}]),n}(l.Component)},9468:function(e,t,n){n.r(t);var r=n(8152),i=n(9498),a=n(6885),s=n(1937),l=n(1082),o=n(2426),c=n.n(o),u=n(2791),d=n(7993),m=n(184),f=l.a.BreadcrumbItem;t.default=function(e){var t=e.location.state,n=JSON.parse(t.pointList),o="BAIDU"===t.provider?"BMAP":t.provider,p=n?(0,s.Pf)(o,n):[],h=(0,u.useState)(""),v=(0,r.Z)(h,2),g=v[0],y=v[1],I={id:"baidumap",mapAk:"",poiText:!0,poiIcon:!0,type:o,points:[116.404,39.915],areaName:"\u4e0a\u6d77\u5e02",zoom:15,enableScrollWheel:!1,isScaleCtrl:!0,isZoomCtrl:!0,navi3DCtrl:!0,drivingPath:p};return(0,u.useEffect)((function(){!function(){var e=t.provider,n=t.serverId,r=t.terminalId,i=t.traceId;(0,d.iy)({provider:e,serverId:n,terminalId:r,traceId:i,param:"{ local: true}",width:30,height:30}).then((function(t){1!=t.code&&y("/sys/trace/image?provider=".concat(e,"&serverId=").concat(n,"&terminalId=").concat(r,"&traceId=").concat(i,"&param=%7B%22local%22:true%7D&width=300&height=300"))}))}()}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"BreadcrumbCont",children:(0,m.jsxs)(l.a,{maxItemWidth:"200px",theme:"light",children:[(0,m.jsx)(f,{href:"/trajectory",children:"\u8f68\u8ff9"}),(0,m.jsx)(f,{children:"\u8be6\u60c5"})]})}),(0,m.jsx)("div",{className:"container trajectory_details",children:(0,m.jsxs)("div",{className:"detailCont",children:[(0,m.jsx)(i.iA,{data:[t],columns:[{align:"left",className:"test",ellipsis:!0,colKey:"name",title:"\u8f68\u8ff9\u540d\u79f0"},{align:"left",className:"test4",ellipsis:!0,colKey:"id",title:"\u8f68\u8ff9ID"},{align:"left",className:"test4",ellipsis:!0,cell:function(e){var t=e.row;switch(null===t||void 0===t?void 0:t.provider){case"BAIDU":return(0,m.jsx)(m.Fragment,{children:"\u767e\u5ea6\u5730\u56fe"});case"AMAP":return(0,m.jsx)(m.Fragment,{children:"\u9ad8\u5fb7\u5730\u56fe"});case"QQ":return(0,m.jsx)(m.Fragment,{children:"\u817e\u8baf\u5730\u56fe"});default:return null}},title:"\u670d\u52a1\u5546",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"serverId",title:"\u670d\u52a1ID",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"distance",title:"\u8f68\u8ff9\u957f\u5ea6",cell:function(e){var t=e.row;return null!==t&&void 0!==t&&t.distance?null===t||void 0===t?void 0:t.distance.toFixed(2):"--"},minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"time",title:"\u6301\u7eed\u65f6\u95f4",cell:function(e){var t=e.row;return(0,s.i$)(t.time)},minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"startTime",cell:function(e){var t=e.row;return t.startTime?c()(t.startTime).format("YYYY-MM-DD HH:mm:ss"):"--"},title:"\u521b\u5efa\u65f6\u95f4",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"endTime",cell:function(e){var t=e.row;return t.endTime?c()(t.endTime).format("YYYY-MM-DD HH:mm:ss"):"--"},title:"\u7ed3\u675f\u65f6\u95f4",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"size",title:"\u8f68\u8ff9\u70b9\u6570",minWidth:200}],rowKey:"index",verticalAlign:"top",bordered:!0,hover:!0}),(0,m.jsxs)("div",{className:"DetBMap",children:[g&&(0,m.jsx)("img",{src:g}),(0,m.jsx)(a.v,{options:I})]})]})})]})}},1937:function(e,t,n){function r(e,t){var n=[];return"BMAP"===e?n=t.map((function(e){return{lng:e.longitude,lat:e.latitude}})):"AMAP"===e?n=t.map((function(e){var t=e.location.split(",");return{lng:t[0],lat:t[1]}})):"TMAP"===e&&console.log("\u5f00\u53d1\u4e2d..."),n}function i(e,t,n){var r={};if("AMAP"===e&&"CIRCLE"===t)r.point=n.center.split(","),r.radius=n.radius,r.type="circle";else if("AMAP"===e&&"POLYGON"===t){r.type="polygon";var i=n.points.split(";");r.points=i.length>0&&i.map((function(e){var t=e.split(",");return{lng:t[0],lat:t[1]}}))}else if("AMAP"===e&&"POLYLINE"===t){r.type="polyline";var a=n.points.split(";");r.offset=n.bufferradius,r.points=a.length>0&&a.map((function(e){var t=e.split(",");return{lng:t[0],lat:t[1]}}))}else if("AMAP"===e&&"DISTRICT"===t)r.type="district",r.adcodes=[n.adcode];else if("BMAP"===e&&"CIRCLE"===t)r.point=[n.longitude,n.latitude],r.radius=n.radius,r.type="circle";else if("BMAP"===e&&"POLYGON"===t){r.type="polygon";var s=n.vertexes.split(";");r.points=s.length>0&&s.map((function(e){var t=e.split(",");return{lng:t[1],lat:t[0]}}))}else if("BMAP"===e&&"POLYLINE"===t){r.type="polyline",r.offset=n.offset;var l=n.vertexes.split(";");r.points=l.length>0&&l.map((function(e){var t=e.split(",");return{lng:t[1],lat:t[0]}}))}else"BMAP"===e&&"DISTRICT"===t&&(r.type="district",r.proname=n.keyword);return r}function a(e){var t="--";return e&&e<6e4&&(t=Number(e)/1e3+"s"),e&&e>=6e4&&e<36e5&&(t=Number(e)/6e4+"m"),e&&e>36e5&&(t=Number(e)/36e5+"H"),t}n.d(t,{Pf:function(){return r},eB:function(){return i},i$:function(){return a}})}}]);
//# sourceMappingURL=75.4214e101.chunk.js.map
"use strict";(self.webpackChunkjava_eaglemap=self.webpackChunkjava_eaglemap||[]).push([[850],{7993:function(e,t,n){n.d(t,{CQ:function(){return h},$I:function(){return p},bI:function(){return m},u9:function(){return f},n3:function(){return o},O2:function(){return v},Bh:function(){return d},r4:function(){return u},xt:function(){return c}});var a=n(4569),r=n.n(a),i=n(9012),s=n(2268);function l(e){return r().request(e)}function c(e){return l({method:"POST",url:"/sys/login",data:e,params:e})}function o(){return l({method:"GET",url:"/sys/config"})}function u(e){return l({method:"GET",url:"/sys/trace/server",data:e,params:e})}function d(e){return l({method:"GET",url:"/sys/trace",data:e,params:e})}function m(e){return l({method:"DELETE",url:"/sys/trace/".concat(e),data:e,params:e})}function f(e){return l({method:"GET",url:"/sys/fence",data:e,params:e})}function h(e){return l({method:"DELETE",url:"/sys/fence/".concat(e.fenceId),data:e})}function v(e){return l({method:"GET",url:"/sys/terminal",data:e,params:e})}function p(e){return l({method:"DELETE",url:"/sys/terminal/".concat(e.terminalId),data:e})}r().defaults.headers={"Content-Type":"application/json;charset=utf-8"},r().defaults.baseURL="",r().interceptors.request.use((function(e){var t=(0,s.LP)();return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),r().interceptors.response.use((function(e){return e.data?200===e.status?e.data:(i.sX.error(e.data.msg),Promise.reject(new Error(e.data.msg))):Promise.resolve(e)}),(function(e){return i.sX.error(e.message),Promise.reject(e)}))},6873:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(1350),r=n(184);function i(){return(0,r.jsxs)("div",{className:"noData",children:[(0,r.jsx)("img",{src:a,width:"245",height:"201",alt:""}),(0,r.jsx)("div",{children:"\u6ca1\u6709\u6570\u636eorz"})]})}},4735:function(e,t,n){n.d(t,{o:function(){return o}});var a=n(8683),r=n(8152),i=n(2791),s=n(9569),l=n(4468),c=n(184);function o(e){var t=e.searchConf,n=(0,i.useState)({}),o=(0,r.Z)(n,2),u=o[0],d=o[1],m={};return(0,i.useEffect)((function(){t.forEach((function(e){m[e.key]=""!=e.value?e.value:void 0})),d(m)}),[]),(0,c.jsx)("div",{className:"searchCont",children:t.map((function(e,t){return(0,c.jsxs)("div",{className:"searchitem",children:[(0,c.jsx)("div",{className:"label",children:e.label}),(0,c.jsx)(s.I,{placeholder:"\u8bf7\u8f93\u5165",value:u[e.key],type:"text",onEnter:function(){e.callback(u)},onChange:function(t){var n={};n[e.key]=t,d((0,a.Z)((0,a.Z)({},u),n))}}),(0,c.jsx)(l.Z,{className:"searchIcon",name:"search",size:"medium",onClick:function(){e.callback(u)}})]},t)}))})}},7244:function(e,t,n){n.r(t);var a=n(8683),r=n(8152),i=n(2791),s=n(4735),l=n(9012),c=n(4328),o=n(7076),u=n(3307),d=n(7735),m=n(2819),f=n(7993),h=n(6873),v=n(184);t.default=function(e){var t=[{label:"\u8f68\u8ff9\u540d\u79f0:",value:"",key:"traceName",callback:O},{label:"\u8f68\u8ff9ID:",value:"",key:"traceId",callback:O}],n=(0,i.useState)(!1),p=(0,r.Z)(n,2),g=p[0],j=p[1],x=(0,i.useState)(1),y=(0,r.Z)(x,2),N=y[0],k=y[1],E=(0,i.useState)(10),C=(0,r.Z)(E,2),I=C[0],b=C[1],Z=(0,i.useState)([]),S=(0,r.Z)(Z,2),w=S[0],P=S[1],T=(0,i.useState)(30),z=(0,r.Z)(T,2),D=z[0],A=z[1],K=(0,i.useState)(""),W=(0,r.Z)(K,2),F=W[0],B=W[1],G=(0,i.useState)("BAIDU"),L=(0,r.Z)(G,2),U=L[0],q=L[1],Q=(0,i.useState)({}),X=(0,r.Z)(Q,2),Y=X[0],M=X[1];function O(e){k(1),b(10),M(e),V((0,a.Z)({terminalPage:1,terminalPageSize:10},e))}function V(e){var t,n,a;(0,f.Bh)({page:null!==(t=null===e||void 0===e?void 0:e.tracePage)&&void 0!==t?t:N,pageSize:null!==(n=null===e||void 0===e?void 0:e.tracePageSize)&&void 0!==n?n:I,traceName:null===e||void 0===e?void 0:e.traceName,traceId:null===e||void 0===e?void 0:e.traceId,provider:null!==(a=null===e||void 0===e?void 0:e.provider)&&void 0!==a?a:U}).then((function(e){var t=e.data;0===e.code?(P(t.items),A(t.total)):console.log("\u8bf7\u6c42\u51fa\u9519\uff01")}))}return(0,i.useEffect)((function(){V()}),[]),(0,v.jsxs)("div",{className:"container trajectory",children:[(0,v.jsxs)("div",{className:"searchCont",children:[(0,v.jsx)(s.o,{searchConf:t}),(0,v.jsx)("div",{className:"tdesign-demo-block-row",children:(0,v.jsxs)(c.Y.Group,{value:U,onChange:function(e){q(e),V({searchValue:Y,provider:e})},children:[(0,v.jsx)(c.Y,{value:"BAIDU",children:"\u767e\u5ea6\u5730\u56fe"}),(0,v.jsx)(c.Y,{value:"AMAP",children:"\u9ad8\u5fb7\u5730\u56fe"})]})})]}),(0,v.jsx)("div",{className:"tableCont",children:w&&w.length>0?(0,v.jsx)(o.iA,{data:w,columns:[{align:"left",className:"test",ellipsis:!0,colKey:"name",title:"\u8f68\u8ff9\u540d\u79f0",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"terminalId",title:"\u8f68\u8ff9ID",minWidth:200},{align:"left",className:"test4",ellipsis:!0,cell:function(e){var t=e.row;switch(null===t||void 0===t?void 0:t.provider){case"BAIDU":return(0,v.jsx)(v.Fragment,{children:"\u767e\u5ea6\u5730\u56fe"});case"AMAP":return(0,v.jsx)(v.Fragment,{children:"\u9ad8\u5fb7\u5730\u56fe"});case"QQ":return(0,v.jsx)(v.Fragment,{children:"\u817e\u8baf\u5730\u56fe"});default:return null}},title:"\u670d\u52a1\u5546\u540d\u79f0",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"serverId",title:"\u670d\u52a1ID",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"distance",title:"\u8f68\u8ff9\u957f\u5ea6",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"time",title:"\u6301\u7eed\u65f6\u95f4",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"startTime",title:"\u521b\u5efa\u65f6\u95f4",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"endTime",title:"\u7ed3\u675f\u65f6\u95f4",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"size",title:"\u8f68\u8ff9\u70b9\u6570",minWidth:200},{colKey:"op",width:140,title:"\u64cd\u4f5c",fixed:"right",cell:function(t){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("a",{className:"link",onClick:function(){e.history.push({pathname:"/trajectory/".concat(t.row.id),state:t.row})},children:"\u67e5\u770b"}),(0,v.jsx)("a",{className:"link",onClick:function(){B(t.row.traceId),j(!0)},children:"\u5220\u9664"})]})}}],rowKey:"index",verticalAlign:"top",bordered:!0,hover:!0,pagination:{defaultCurrent:N,defaultPageSize:I,total:D,showJumper:!0,onChange:function(e){b(e.pageSize),k(e.current),V()}}}):(0,v.jsx)(h.Z,{})}),(0,v.jsx)(u.Vq,{header:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m.Z,{style:{color:"#ED7B2F"}}),(0,v.jsx)("span",{children:"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8f68\u8ff9\u5417\uff1f"})]}),footer:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.z,{theme:"default",variant:"outline",onClick:function(){return j(!1)},children:"\u53d6\u6d88"}),(0,v.jsx)(d.z,{theme:"danger",onClick:function(){F?((0,f.bI)(F),B(""),j(!1)):l.sX.error("\u5220\u9664\u8bf7\u6c42\u51fa\u9519\u4e86")},children:"\u5220\u9664"})]}),visible:g,onClose:function(){j(!1)}})]})}},1350:function(e,t,n){e.exports=n.p+"static/media/nodata.e13ac17783aaacf82aee.png"}}]);
//# sourceMappingURL=850.40488080.chunk.js.map
"use strict";(self.webpackChunkjava_eaglemap=self.webpackChunkjava_eaglemap||[]).push([[931],{7993:function(e,t,n){n.d(t,{CQ:function(){return h},$I:function(){return v},bI:function(){return f},u9:function(){return m},n3:function(){return o},O2:function(){return p},Bh:function(){return d},r4:function(){return u},xt:function(){return l}});var r=n(4569),a=n.n(r),i=n(9012),s=n(2268);function c(e){return a().request(e)}function l(e){return c({method:"POST",url:"/sys/login",data:e,params:e})}function o(){return c({method:"GET",url:"/sys/config"})}function u(e){return c({method:"GET",url:"/sys/trace/server",data:e,params:e})}function d(e){return c({method:"GET",url:"/sys/trace",data:e,params:e})}function f(e){return c({method:"DELETE",url:"/sys/trace/".concat(e.id),data:e,params:e})}function m(e){return c({method:"GET",url:"/sys/fence",data:e,params:e})}function h(e){return c({method:"DELETE",url:"/sys/fence/".concat(e.fenceId),data:e,params:e})}function p(e){return c({method:"GET",url:"/sys/terminal",data:e,params:e})}function v(e){return c({method:"DELETE",url:"/sys/terminal/".concat(e.id),data:e,params:e})}a().defaults.headers={"Content-Type":"application/json;charset=utf-8"},a().defaults.baseURL="",a().interceptors.request.use((function(e){var t=(0,s.LP)();return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),a().interceptors.response.use((function(e){return e.data?200===e.status?e.data:(401!==e.status&&401!==e.data.code||((0,s.gy)(),window.location.href="/login"),i.sX.error(e.data.msg),Promise.reject(new Error(e.data.msg))):Promise.resolve(e)}),(function(e){if(i.sX.error(e.message),401!==e.response.status)return Promise.reject(e);(0,s.gy)(),window.location.href="/login"}))},6873:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(1350),a=n(184);function i(){return(0,a.jsxs)("div",{className:"noData",children:[(0,a.jsx)("img",{src:r,width:"245",height:"201",alt:""}),(0,a.jsx)("div",{children:"\u6ca1\u6709\u6570\u636eorz"})]})}},9311:function(e,t,n){n.d(t,{o:function(){return h}});var r=n(8683),a=n(8152),i=n(2791),s=n(9569),c=n(6381),l=n(7055);n(7610);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,c._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.51 10.22a4.76 4.76 0 11.7-.7l3.54 3.52-.7.71-3.54-3.53zm.77-3.7a3.76 3.76 0 10-7.53 0 3.76 3.76 0 007.53 0z",fillOpacity:.9}}]},f=(0,i.forwardRef)((function(e,t){return(0,i.createElement)(l.A,u(u({},e),{},{id:"search",ref:t,icon:d}))}));f.displayName="SearchIcon";var m=n(184);function h(e){var t=e.searchConf,n=(0,i.useState)({}),c=(0,a.Z)(n,2),l=c[0],o=c[1],u={};return(0,i.useEffect)((function(){t.forEach((function(e){u[e.key]=""!==e.value?e.value:void 0})),o(u),console.log(3333)}),[]),(0,m.jsx)("div",{className:"searchCont",children:t.map((function(e,t){return(0,m.jsxs)("div",{className:"searchitem",children:[(0,m.jsx)("div",{className:"label",children:e.label}),(0,m.jsx)(s.I,{placeholder:"\u8bf7\u8f93\u5165",value:l[e.key],type:"text",onEnter:function(){e.callback(l)},onChange:function(t){var n={};n[e.key]=t,o((0,r.Z)((0,r.Z)({},l),n)),e.setValue&&e.setValue((0,r.Z)((0,r.Z)({},l),n))}}),(0,m.jsx)(f,{className:"searchIcon",name:"search",size:"medium",onClick:function(){e.callback(l)}})]},t)}))})}},4751:function(e,t,n){n.r(t);var r=n(8683),a=n(8152),i=n(9311),s=n(2791),c=n(9012),l=n(4328),o=n(9498),u=n(3307),d=n(7735),f=n(2819),m=n(7993),h=n(6873),p=n(2426),v=n.n(p),g=n(184);t.default=function(e){var t=(0,s.useState)(!1),n=(0,a.Z)(t,2),p=n[0],j=n[1],x=(0,s.useState)(1),y=(0,a.Z)(x,2),b=y[0],w=y[1],I=(0,s.useState)(10),E=(0,a.Z)(I,2),C=E[0],N=E[1],O=(0,s.useState)([]),k=(0,a.Z)(O,2),Z=k[0],D=k[1],P=(0,s.useState)(30),S=(0,a.Z)(P,2),Y=S[0],z=S[1],T=(0,s.useState)({}),A=(0,a.Z)(T,2),F=A[0],L=A[1],G=(0,s.useState)("BAIDU"),K=(0,a.Z)(G,2),M=K[0],W=K[1],B=(0,s.useState)({}),X=(0,a.Z)(B,2),V=X[0],H=X[1],Q=[{label:"\u56f4\u680f\u540d\u79f0:",key:"fenceName",value:"",callback:U,setValue:H},{label:"\u56f4\u680fID:",key:"fenceId",value:"",callback:U,setValue:H}];function R(e){var t,n,r;(0,m.u9)({page:null!==(t=null===e||void 0===e?void 0:e.page)&&void 0!==t?t:b,pageSize:null!==(n=null===e||void 0===e?void 0:e.pageSize)&&void 0!==n?n:C,fenceName:null===e||void 0===e?void 0:e.fenceName,fenceId:null===e||void 0===e?void 0:e.fenceId,provider:null!==(r=null===e||void 0===e?void 0:e.provider)&&void 0!==r?r:M}).then((function(e){var t=e.data;0===e.code?(D(t.items),z(t.total)):c.sX.error("\u8bf7\u6c42\u51fa\u9519\uff01")}))}function U(e){w(1),N(10),H(e),R((0,r.Z)({page:1,pageSize:10},e))}return(0,s.useEffect)((function(){R()}),[]),(0,g.jsxs)("div",{className:"container fence",children:[(0,g.jsxs)("div",{className:"searchCont",children:[(0,g.jsx)(i.o,{searchConf:Q}),(0,g.jsx)("div",{className:"tdesign-demo-block-row",children:(0,g.jsxs)(l.Y.Group,{value:M,onChange:function(e){W(e),R((0,r.Z)((0,r.Z)({},V),{},{provider:e}))},children:[(0,g.jsx)(l.Y,{value:"BAIDU",children:"\u767e\u5ea6\u5730\u56fe"}),(0,g.jsx)(l.Y,{value:"AMAP",children:"\u9ad8\u5fb7\u5730\u56fe"})]})})]}),(0,g.jsx)("div",{className:"tableCont",children:Z&&Z.length>0?(0,g.jsx)(o.iA,{data:Z,columns:[{align:"left",className:"test",ellipsis:!0,colKey:"name",title:"\u56f4\u680f\u540d\u79f0",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"fenceId",title:"\u56f4\u680fID",minWidth:200},{align:"left",className:"test4",ellipsis:!0,cell:function(e){var t=e.row;switch(null===t||void 0===t?void 0:t.type){case"DISTRICT":return(0,g.jsx)(g.Fragment,{children:"\u884c\u653f\u533a\u57df"});case"CIRCLE":return(0,g.jsx)(g.Fragment,{children:"\u5706\u5f62"});case"POLYGON":return(0,g.jsx)(g.Fragment,{children:"\u591a\u8fb9\u578b"});case"POLYLINE":return(0,g.jsx)(g.Fragment,{children:"\u7ebf\u5f62"});default:return null}},title:"\u56f4\u680f\u7c7b\u578b",minWidth:200},{align:"left",className:"test4",ellipsis:!0,cell:function(e){var t=e.row;switch(null===t||void 0===t?void 0:t.provider){case"BAIDU":return(0,g.jsx)(g.Fragment,{children:"\u767e\u5ea6\u5730\u56fe"});case"AMAP":return(0,g.jsx)(g.Fragment,{children:"\u9ad8\u5fb7\u5730\u56fe"});case"QQ":return(0,g.jsx)(g.Fragment,{children:"\u817e\u8baf\u5730\u56fe"});default:return null}},title:"\u670d\u52a1\u5546",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"serverId",title:"\u670d\u52a1ID",minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"created",title:"\u521b\u5efa\u65f6\u95f4",cell:function(e){var t=e.row;return v()(t.created).format("YYYY-MM-DD HH:mm:ss")},minWidth:200},{align:"left",className:"test4",ellipsis:!0,colKey:"updated",cell:function(e){var t=e.row;return v()(t.updated).format("YYYY-MM-DD HH:mm:ss")},title:"\u66f4\u65b0\u65f6\u95f4",minWidth:200},{colKey:"op",width:140,title:"\u64cd\u4f5c",fixed:"right",cell:function(t){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("a",{className:"link",onClick:function(){e.history.push({pathname:"/fence/".concat(t.row.id),state:t.row})},children:"\u67e5\u770b"}),(0,g.jsx)("a",{className:"link",onClick:function(){L(t.row),j(!0)},children:"\u5220\u9664"})]})}}],rowKey:"index",verticalAlign:"top",bordered:!0,hover:!0,pagination:{defaultCurrent:b,defaultPageSize:C,total:Y,showJumper:!0,onChange:function(e){N(e.pageSize),w(e.current),R()}}}):(0,g.jsx)(h.Z,{})}),(0,g.jsx)(u.Vq,{header:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{style:{color:"#ED7B2F"}}),(0,g.jsx)("span",{children:"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u56f4\u680f\u4fe1\u606f\u5417\uff1f"})]}),footer:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.z,{theme:"default",variant:"outline",onClick:function(){return j(!1)},children:"\u53d6\u6d88"}),(0,g.jsx)(d.z,{theme:"danger",onClick:function(){if(F&&F.fenceId){var e=F,t=e.fenceId,n=e.serverId;(0,m.CQ)({fenceId:t,serverId:n,provider:M}).then((function(e){0==e.code?(L({}),j(!1),c.sX.success("\u4fe1\u606f\u5220\u9664\u6210\u529f\uff01"),R((0,r.Z)((0,r.Z)({},V),{},{provider:M}))):c.sX.error(e.msg)}))}else c.sX.error("\u5220\u9664\u8bf7\u6c42\u51fa\u9519\u4e86")},children:"\u5220\u9664"})]}),visible:p,onClose:function(){j(!1)}})]})}},1350:function(e,t,n){e.exports=n.p+"static/media/nodata.e13ac17783aaacf82aee.png"}}]);
//# sourceMappingURL=931.b27b2c7b.chunk.js.map